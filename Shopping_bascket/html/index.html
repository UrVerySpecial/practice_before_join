<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>お買い物システム</title>
  <script src="../../js/jquery.min.js"></script>
  <script src="../js/bootstrap.min.js"></script>
  <script src="../../js/firebase.js"></script>
  <script src="../../js/vue.js"></script>
  <link rel="stylesheet" href="../css/bootstrap.css">
</head>
<body>
  <!--  <button type="button" class="btn btn-primary btn-lg btn-block" onclick="location.href='Shopping_basket.html'">買い物かご</button>-->
  <div class="col-md-12" style="height:30px"></div>
  
<!--  <div id="Auth" class="container col-md-12">
    <form id="login">
      <label for="username">ユーザ名</label>
      <input type="text" id="username">
      <label for="passwd">パスワード</label>
      <input type="password" id="passwd">
      <button type="submit">ログイン</button>
    </form>
  </div>-->
  <div id="Shopping">
    <form id="form">
      <label for="name">商品名</label>
      <input type="text" id="name" v-model="newItem.name">
      <label for="url">商品URL</label>
      <input type="text" id="url" v-model="newItem.imageURL">
      <label for="value">価格</label>
      <input type="number" id="value" v-model="newItem.value">
      <label for="num">在庫数</label>
      <input type="number" v-model="newItem.number">
      <button type="button" v-on:click="addItem">登録</button>
    </form>
    
    <div class="col-md-12" style="height:30px"></div>
   
    <table class="table table-striped table-hover">
      <thead>
        <tr>
          <th class="col-md-3 h1"></th><th class="col-md-4 h1">商品名</th><th class="col-md-2 h1">価格</th><th class="col-md-1 h1">個数</th><th class="col-md-2 h1">操作</th>
        </tr>
      </thead>
      <tbody>
        <tr v-for="item in items">
          <td>
            <img :src='item.imageURL' width="100px"/>
          </td>
          <td class="h2">
            {{item.name}}
          </td>
          <td class="h3">
            {{item.value}}
          </td>
          <td class="h3">
            {{item.number}}
          </td>
          <td>
            <input v-model='item.buy' type="number" min="0" v-bind:max='item.number'>
            <button v-on:click="pushBasket(item)">買い物かごへ</button>
            <button v-on:click="deleteItem(item)">削除</button>
          </td>
        </tr>
      </tbody>
    </table>
    
    <div class="col-md-12" style="height:30px"></div>
    <h1>買い物かご　 (合計金額{{totalValue}}円)</h1>
    <table class="table table-striped table-hover">
      <thead>
        <tr>
          <th class="col-md-3 h1"></th><th class="col-md-4 h1">商品名</th><th class="col-md-2 h1">価格</th><th class="col-md-1 h1">購入個数</th>
        </tr>
      </thead>
      <tbody>
        <tr v-for="basket in baskets">
          <td>
            <img :src='basket.imageURL' width="100px"/>
          </td>
          <td class="h2">
            {{basket.name}}
          </td>
          <td class="h3">
            {{basket.value}}
          </td>
          <td class="h3">
            {{basket.buy}}
          </td>
        </tr>
      </tbody>
    </table>
    
    <pre>data: {{$data.baskets}}</pre>
  </div>
  <div class="col-md-12" style="height:30px"></div>
  <div id="Shopping_basket" class="container col-md-12"></div>
  
  <script src="../js/firebaseController.js"></script>
</body>
</html>